<template>
    <section
        class="from-bg via-surface-2/40 to-bg text-text min-h-screen w-full bg-gradient-to-b"
    >
        <main
            class="mx-auto flex min-h-screen w-full max-w-7xl flex-col gap-6 px-4 pt-[calc(env(safe-area-inset-top)+1.5rem)] pb-[calc(env(safe-area-inset-bottom)+2rem)] sm:px-6 lg:px-8"
            data-page="search"
        >
            <header class="flex flex-col gap-3">
                <p class="text-text-muted text-xs">/search</p>
                <div class="flex flex-col gap-1">
                    <h1 class="text-2xl font-medium sm:text-3xl">
                        חיפוש קורסים מהיר
                    </h1>
                    <p class="text-text-muted max-w-3xl text-xs sm:text-sm">
                        הקלידו קוד או שם קורס כדי למצוא התאמות ישירות מתוך
                        הנתונים המקומיים ב-IndexedDB.
                    </p>
                </div>
            </header>

            <section
                class="border-border/60 bg-surface-1/85 flex flex-col gap-3 rounded-3xl border p-4 shadow-sm"
            >
                <form class="flex flex-col gap-3" data-search-form>
                    <div class="flex flex-wrap items-center gap-2">
                        <input
                            type="search"
                            name="q"
                            inputmode="search"
                            autocomplete="off"
                            placeholder="לדוגמה: 234114 או מבוא למדעי המחשב"
                            class="border-border/70 bg-surface-2/80 text-text placeholder:text-text-muted focus-visible:ring-accent/60 min-h-11 min-w-0 flex-1 rounded-2xl border px-4 text-xs transition duration-200 ease-out focus-visible:ring-2"
                            data-search-input
                        />
                        <button
                            type="submit"
                            class="bg-accent text-accent-contrast min-h-11 rounded-2xl px-4 text-xs font-medium shadow-sm"
                            data-search-submit
                        >
                            חיפוש
                        </button>
                        <button
                            type="button"
                            class="border-border/70 bg-surface-2/70 text-text-muted hover:border-accent/40 hover:text-text min-h-11 rounded-2xl border px-4 text-xs font-medium transition duration-200 ease-out"
                            data-search-clear
                        >
                            ניקוי
                        </button>
                    </div>
                    <div class="flex flex-wrap gap-2">
                        <button
                            type="button"
                            class="border-border/70 bg-surface-2/70 text-text-muted hover:border-accent/40 hover:text-text min-h-11 rounded-full border px-3 text-xs transition duration-200 ease-out"
                            data-search-suggestion="234114"
                        >
                            234114
                        </button>
                        <button
                            type="button"
                            class="border-border/70 bg-surface-2/70 text-text-muted hover:border-accent/40 hover:text-text min-h-11 rounded-full border px-3 text-xs transition duration-200 ease-out"
                            data-search-suggestion="מבוא"
                        >
                            מבוא
                        </button>
                        <button
                            type="button"
                            class="border-border/70 bg-surface-2/70 text-text-muted hover:border-accent/40 hover:text-text min-h-11 rounded-full border px-3 text-xs transition duration-200 ease-out"
                            data-search-suggestion="אלגוריתמים"
                        >
                            אלגוריתמים
                        </button>
                    </div>
                </form>
            </section>

            <section class="flex flex-col gap-3" aria-live="polite">
                <div class="flex flex-wrap items-center justify-between gap-2">
                    <p class="text-text-muted text-xs" data-search-status>
                        התחילו להקליד כדי לראות תוצאות.
                    </p>
                    <p class="text-text-muted text-xs" data-search-count>
                        0 תוצאות
                    </p>
                </div>
                <p class="text-text-muted text-xs" data-search-sync></p>

                <p
                    class="border-border/60 bg-surface-1/70 text-text-muted rounded-2xl border p-4 text-xs"
                    data-search-empty
                >
                    אין כרגע תוצאות להצגה.
                </p>

                <div
                    class="grid grid-cols-3 gap-3 sm:grid-cols-4 lg:grid-cols-5"
                    data-search-results
                ></div>
            </section>
        </main>
    </section>
</template>
